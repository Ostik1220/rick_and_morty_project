{"mappings":"AEAA,MAAM,EAAoB,SAAS,aAAa,CAAC,kBAC3C,EAAc,SAAS,aAAa,CAAC,oBAE3C,IAAI,EAAc,EACd,EAAa,EAMjB,eAAe,EAAa,EAAO,CAAC,EAClC,GAAI,CACF,IAAM,EAAW,MAAM,MACrB,CAAC,6CAA6C,EAAE,EAAA,CAAM,EAElD,EAAO,MAAM,EAAS,IAAI,GAC1B,EATD,AASyC,EATpC,OAAO,CAAC,MAAM,CAUxB,EAAa,KAAK,IAAI,CAAC,GAAK,GAC5B,AAoBJ,SAAwB,CAAQ,EAC9B,IAAM,EAAS,EACZ,GAAG,CAAC,AAAA,IACH,IAAM,EAAe,SAAS,EAAG,OAAO,CAAC,KAAK,CAAC,EAAG,GAAI,IAChD,EAAgB,SAAS,EAAG,OAAO,CAAC,KAAK,CAAC,EAAG,GAAI,IACjD,EAAiB,CAAiB,CAAC,EAAa,CAEtD,MAAO;A;A;AAG6B,0CAAA,EAAE,EAAe;A;AAEhB,2CAAA,EAAE,EAAG,IAAI,CAAC;A;A;AAGT,4CAAA,EAAE,EAAa;A;A;AAGf,4CAAA,EAAE,EAAc;A;A;AAGhB,4CAAA,EAAE,EAAG,QAAQ,CAAC;A;A;A;A;AAKpD,MAAA,CAAC,AACH,GACC,IAAI,CAAC,GAER,CAAA,EAAkB,SAAS,EAAI,CACjC,EAnDmB,EAAK,OAAO,EACvB,GAAe,GACjB,CAAA,EAAY,KAAK,CAAC,OAAO,CAAG,MAD9B,CAGF,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,gCAChB,CACF,CAEA,MAAM,EAAoB,CACxB,EAAG,yBACH,EAAG,yBACH,EAAG,yBACH,EAAG,yBACH,EAAG,yBACH,EAAG,wBACL,EAsCA,EAAY,gBAAgB,CAAC,QAAS,KAChC,EAAc,GAEhB,IAAa,EAEjB,GAEA,IAGE,MAAM,EAAO,CACX,cAAe,SAAS,aAAa,CAAC,sBACtC,MAAO,SAAS,aAAa,CAAC,eAChC,EAWA,SAAS,IACP,EAAK,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,aAC5B,SAAS,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,YACjC,CAZA,SAAS,aAAa,CAAC,kBAAkB,gBAAgB,CAAC,QAAS,AAAA,IAE7D,AADS,EAAE,MAAM,CAAC,OAAO,CAAC,sBAE5B,GAEJ,GAEA,EAAK,aAAa,CAAC,gBAAgB,CAAC,QAAS","sources":["<anon>","src/episodes.js","src/js/episodes-js/maine-episodes.js"],"sourcesContent":["const $357a6a9add072938$var$episodesContainer = document.querySelector('.episodes-data');\nconst $357a6a9add072938$var$loadMoreBtn = document.querySelector('.episodes-button');\nlet $357a6a9add072938$var$currentPage = 1;\nlet $357a6a9add072938$var$totalPages = 1;\nfunction $357a6a9add072938$var$getTotalPagesPerChunk(data) {\n    return data.results.length;\n}\nasync function $357a6a9add072938$var$loadEpisodes(page = 1) {\n    try {\n        const response = await fetch(`https://rickandmortyapi.com/api/episode?page=${page}`);\n        const data = await response.json();\n        const episodesPerPage = $357a6a9add072938$var$getTotalPagesPerChunk(data);\n        $357a6a9add072938$var$totalPages = Math.ceil(51 / episodesPerPage);\n        $357a6a9add072938$var$renderEpisodes(data.results);\n        if ($357a6a9add072938$var$currentPage >= $357a6a9add072938$var$totalPages) $357a6a9add072938$var$loadMoreBtn.style.display = 'none';\n    } catch (error) {\n        console.error(\"\\u041F\\u043E\\u043C\\u0438\\u043B\\u043A\\u0430 \\u0437\\u0430\\u0432\\u0430\\u043D\\u0442\\u0430\\u0436\\u0435\\u043D\\u043D\\u044F \\u0435\\u043F\\u0456\\u0437\\u043E\\u0434\\u0456\\u0432\");\n    }\n}\nconst $357a6a9add072938$var$seasonBackgrounds = {\n    1: \"../../img/season-1.png\",\n    2: \"../../img/season-2.png\",\n    3: \"../../img/season-3.png\",\n    4: \"../../img/season-4.png\",\n    5: \"../../img/season-5.png\",\n    6: \"../../img/season-6.png\"\n};\nfunction $357a6a9add072938$var$renderEpisodes(episodes) {\n    const markup = episodes.map((ep)=>{\n        const seasonNumber = parseInt(ep.episode.slice(1, 3), 10);\n        const episodeNumber = parseInt(ep.episode.slice(4, 6), 10);\n        const bacroundSeason = $357a6a9add072938$var$seasonBackgrounds[seasonNumber];\n        return `\n        <div data-modal-open \n             class=\"episode-card\" \n             style=\"background-image: url(${bacroundSeason});\">\n          <div class=\"episode-minicontainer\">\n            <h3 class=\"episodes-cardtitle\">${ep.name}</h3>\n            <div class=\"episodes-cardcontainer\">\n              <p class=\"episodes-textitle\">Season: \n                <span class=\"episodes-span\">${seasonNumber}</span>\n              </p>\n              <p class=\"episodes-textitle\">Episode: \n                <span class=\"episodes-span\">${episodeNumber}</span>\n              </p>\n              <p class=\"episodes-textitle\">Air date: \n                <span class=\"episodes-span\">${ep.air_date}</span>\n              </p>\n            </div>\n          </div>\n        </div>\n      `;\n    }).join(\"\");\n    $357a6a9add072938$var$episodesContainer.innerHTML += markup;\n}\n$357a6a9add072938$var$loadMoreBtn.addEventListener('click', ()=>{\n    if ($357a6a9add072938$var$currentPage < $357a6a9add072938$var$totalPages) {\n        $357a6a9add072938$var$currentPage++;\n        $357a6a9add072938$var$loadEpisodes($357a6a9add072938$var$currentPage);\n    }\n});\n$357a6a9add072938$var$loadEpisodes();\n(()=>{\n    const refs = {\n        closeModalBtn: document.querySelector('[data-modal-close]'),\n        modal: document.querySelector('[data-modal]')\n    };\n    document.querySelector('.episodes-data').addEventListener('click', (e)=>{\n        const card = e.target.closest('[data-modal-open]');\n        if (card) toggleModal();\n    });\n    refs.closeModalBtn.addEventListener('click', toggleModal);\n    function toggleModal() {\n        refs.modal.classList.toggle('is-hidden');\n        document.body.classList.toggle('no-scroll');\n    }\n})();\n\n\n\n\n//# sourceMappingURL=episodes.9f4aac1d.js.map\n","import './js/episodes-js/maine-episodes';","const episodesContainer = document.querySelector('.episodes-data');\r\nconst loadMoreBtn = document.querySelector('.episodes-button');\r\n\r\nlet currentPage = 1;\r\nlet totalPages = 1;\r\n\r\nfunction getTotalPagesPerChunk(data) {\r\n  return data.results.length;\r\n}\r\n\r\nasync function loadEpisodes(page = 1) {\r\n  try {\r\n    const response = await fetch(\r\n      `https://rickandmortyapi.com/api/episode?page=${page}`\r\n    );\r\n    const data = await response.json();\r\n    const episodesPerPage = getTotalPagesPerChunk(data);\r\n    totalPages = Math.ceil(51 / episodesPerPage);\r\n    renderEpisodes(data.results);\r\n    if (currentPage >= totalPages) {\r\n      loadMoreBtn.style.display = 'none';\r\n    }\r\n  } catch (error) {\r\n    console.error('Помилка завантаження епізодів');\r\n  }\r\n}\r\n\r\nconst seasonBackgrounds = {\r\n  1: \"../../img/season-1.png\",\r\n  2: \"../../img/season-2.png\",\r\n  3: \"../../img/season-3.png\",\r\n  4: \"../../img/season-4.png\",\r\n  5: \"../../img/season-5.png\",\r\n  6: \"../../img/season-6.png\",\r\n};\r\n\r\n\r\n\r\nfunction renderEpisodes(episodes) {\r\n  const markup = episodes\r\n    .map(ep => {\r\n      const seasonNumber = parseInt(ep.episode.slice(1, 3), 10);\r\n      const episodeNumber = parseInt(ep.episode.slice(4, 6), 10);\r\n      const bacroundSeason = seasonBackgrounds[seasonNumber];\r\n\r\n      return `\r\n        <div data-modal-open \r\n             class=\"episode-card\" \r\n             style=\"background-image: url(${bacroundSeason});\">\r\n          <div class=\"episode-minicontainer\">\r\n            <h3 class=\"episodes-cardtitle\">${ep.name}</h3>\r\n            <div class=\"episodes-cardcontainer\">\r\n              <p class=\"episodes-textitle\">Season: \r\n                <span class=\"episodes-span\">${seasonNumber}</span>\r\n              </p>\r\n              <p class=\"episodes-textitle\">Episode: \r\n                <span class=\"episodes-span\">${episodeNumber}</span>\r\n              </p>\r\n              <p class=\"episodes-textitle\">Air date: \r\n                <span class=\"episodes-span\">${ep.air_date}</span>\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      `;\r\n    })\r\n    .join(\"\");\r\n\r\n  episodesContainer.innerHTML += markup;\r\n}\r\n\r\n\r\nloadMoreBtn.addEventListener('click', () => {\r\n  if (currentPage < totalPages) {\r\n    currentPage++;\r\n    loadEpisodes(currentPage);\r\n  }\r\n});\r\n\r\nloadEpisodes();\r\n\r\n(() => {\r\n  const refs = {\r\n    closeModalBtn: document.querySelector('[data-modal-close]'),\r\n    modal: document.querySelector('[data-modal]'),\r\n  };\r\n\r\n  document.querySelector('.episodes-data').addEventListener('click', e => {\r\n    const card = e.target.closest('[data-modal-open]');\r\n    if (card) {\r\n      toggleModal();\r\n    }\r\n  });\r\n\r\n  refs.closeModalBtn.addEventListener('click', toggleModal);\r\n\r\n  function toggleModal() {\r\n    refs.modal.classList.toggle('is-hidden');\r\n    document.body.classList.toggle('no-scroll');\r\n  }\r\n})();\r\n\r\n\r\n"],"names":["$357a6a9add072938$var$episodesContainer","document","querySelector","$357a6a9add072938$var$loadMoreBtn","$357a6a9add072938$var$currentPage","$357a6a9add072938$var$totalPages","$357a6a9add072938$var$loadEpisodes","page","response","fetch","data","json","episodesPerPage","results","length","Math","ceil","$357a6a9add072938$var$renderEpisodes","episodes","markup","map","ep","seasonNumber","parseInt","episode","slice","episodeNumber","bacroundSeason","$357a6a9add072938$var$seasonBackgrounds","name","air_date","join","innerHTML","style","display","error","console","addEventListener","refs","closeModalBtn","modal","toggleModal","classList","toggle","body","e","card","target","closest"],"version":3,"file":"episodes.9f4aac1d.js.map"}